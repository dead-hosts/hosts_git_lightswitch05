env:
  global:
    - secure: oGPqZr5owU6pv+aM6FXFFIwkR8BNyJD9RE+rqAgkyo/2IgWbMfjccXIyAEAacRCRL5e8i2ERzVZYH4rXZb6eOaJ+pvP2X816io0M4oI1IqpjwlzdlDWH3dKAzrnolfooxzprBe+e71cfzGTV1O3SuMufozvOzNGxKc1fjrGqsy6iWJzRy2XYB48GRfxLKKfdFaW5ENqr49T/jsOQzmaFnLQe/cIaVuQ+gV1EjU+/geWQYzZnj2maVh2Mpkb/LZF5T2HT9WI7p7c5Lc+KBSLEFHSCBd4Bzk8vnMbzb5dtGGdgtgWREY8hOQ29tEHgPKPnD6GR4ugSqnuMr6a9j5NjaYF/E1zh9S8B9e/qZnwWknRdelySevkISiefSTv0MjPR0trP6vmLlbXUrZsOjkf+0OwTWEXk7L17ETYmhodkj+diiMmb027no1QW1f1mkolYkzE8vuutwEHalZM212S25+wxdqHyaxzEsYuyTQc9ghK+QZq1csQN15phM4AfHj9+YJJb5iEYsVYzn1TZU/sIZPav92EOmPfFPuTWY6Ud/jX7tWbecl+znzOvaGjJ0uhGfAGEvTVbd1MNfnbsMYXOqg5Vm2nN7lCbNg1P1W+hiW+ZrQAqmXxO2kskK1tHyIvAubnUasfm+KtJIDBAg/DSPdQiGtX/qIzUgwNL9v8tZhg=
    - GIT_NAME: Travis CI
    - GIT_EMAIL: dead-hosts@funilrys.com
    - TRAVIS_REPO_SLUG: dead-hosts/hosts_git_lightswitch05
    - GIT_BRANCH: master
    - UPDATE_ME_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/update_me.py
    - ADMIN_LOCATION: https://raw.githubusercontent.com/dead-hosts/repository-structure/master/admin.py

dist: xenial
sudo: required

language: python

python:
  - "3.7"

matrix:
  fast_finish: true

cache:
  - pip

addons:
  apt:
    packages:
      - dos2unix

install:
  - pip3 install --upgrade pip
  - pip3 install requests

before_script:
  - if [[ ! -f .administrators ]]; then wget "${UPDATE_ME_LOCATION}" -o /dev/null -O update_me.py && chmod +x update_me.py; else echo "update_me not downloaded :)"; fi
  - if [[ ! -f .administrators ]]; then wget "${ADMIN_LOCATION}" -o /dev/null -O admin.py && chmod +x admin.py; else echo "admin not downloaded :)"; fi

script:
  - python3 update_me.py

notifications:
  email:
    recipients:
      - dead-hosts@funilrys.com
    on_success: never
    on_failure: always
